# Week of 09/08/2019
## 1. Designed and built `nodal` graph layout library
Demo: [https://vizstack.github.io/nodal/docs/](https://vizstack.github.io/nodal/docs/)

### 1.1 Why write a graph layout library?

To be honest, we've been trying to avoid having to write a graph library for a year now. "Surely one of the open-source libraries is powerful enough to do what we need!" we'd exclaim hopefully. Alas, it was not to be. After rewriting our *entire* `DagLayout` Vizstack component *twice* using different open-source libraries, we're no longer the innocents we used to be. We've seen the horrors of this world. 

But we can't give up on graphs. So many software abstractions are best visualized with them: dependencies, distributed systems, neural networks, computation graphs, association nets, linked lists ...

So, we've decided to write a graph layout library, and we're trying our best to do it right. These are some of the features that we've desparately wanted:

![Nodal Features](https://github.com/vizstack/blog/blob/master/img/nodal-features.png)

But we also recognize that there may be features other developers want that we haven't thought of. That's why, unlike most of the solutions out there, we adopt a much more modular and compositional design, inspired by libraries like [ProseMirror](https://prosemirror.net/). By developing clean abstractions in a layered architecture, we'll allow power users to customize as much as they want, while also providing sensible presets for less intense users.

### 1.2 Researched state-of-the-art techniques in graph layout

The first step was to familarize ourselves with some of the state-of-the-art techniques by reading the literature. Luckily, coming from a background in machine learning, we felt somewhat comfortable with the math that the field applies, e.g. constrained optimization, majorization, and gradient descent.

These were the papers we found most useful:

- "Graph drawing by stochastic gradient descent," Zheng et al., 2018.
- "Efficient and high quality force-directed graph drawing," Hu, 2005.
- "Scalable, versatile and simple constrained graph layout," Dwyer, 2009.
- "Octilinear force-direted layout with mental map preservation for schematic diagrams," Chivers & Rodgers, 2014.
- "Integrating edge routing into force-directed layout," Dwyer et al., 2007.

### 1.3 Designed highly-modular & extensible architecture

![Nodal Structure](https://github.com/vizstack/blog/blob/master/img/nodal-structure.png)

### 1.4 Implemented spring-electrical model with nesting, ports, and hierarchy
Interactive demo: [https://vizstack.github.io/nodal/docs/](https://vizstack.github.io/nodal/docs/)

#### Spring-Electrical model with simple nodes
![Spring-Electrical Simple](https://github.com/vizstack/blog/blob/master/img/springelectrical-nocompound.png)

#### Spring-Electrical model with compound nodes
![Spring-Electrical Compound](https://github.com/vizstack/blog/blob/master/img/springelectrical-compound.png)

## 2. Published `@vizstack/core`, `/schema`, bindings, and `vz-logger` to npm/pip
### @vizstack/schema
Vizstack Core schema of visualization data structures.

https://www.npmjs.com/package/@vizstack/schema

### @vizstack/viewer
Vizstack Core components to render visualizations with React.

https://www.npmjs.com/package/@vizstack/viewer

### @vizstack/js
Vizstack Core bindings for Javascript and Typescript.

https://www.npmjs.com/package/@vizstack/js

### vz-logger
Multi-platform and web-based logger, built with Vizstack.

https://www.npmjs.com/package/@vizstack/vz-logger
